# ========================================
# AI客服问答语义比对工具 - 配置模板
# ========================================
# 使用方法:
# 1. 复制此文件: cp .env.config.example .env
# 2. 在下方的 [多渠道高并发配置] 区域填入您的 API 密钥
# 3. 运行程序: uv run python main.py
#
# 注意：系统已全面升级为多渠道多并发架构，程序启动后将自动驱动所有已配置渠道。

# =================== 多渠道高并发配置 ===================
# 核心原理：系统会自动扫描 AI_CHANNEL_1 到 AI_CHANNEL_20 的配置。
# 应用场景：如果您有多个 API Key（例如 5个 iFlow Key），可以全部配置在这里实现性能最大化。

# --- 方法 A: 仅使用环境变量 (推荐，简单直观) ---
# 系统会自动根据 NAME 中的关键词 (gemini, iflow, openai, dify, anthropic) 识别驱动类型。
#
# 示例：
# AI_CHANNEL_1_NAME=iFlow-1
# AI_CHANNEL_1_API_KEY=sk-xxxxxx1
# AI_CHANNEL_1_CONCURRENCY=5  # [核心参数] 该渠道启动的独立线程数。iFlow 建议 5-20, Gemini 建议 1-5。
#
# AI_CHANNEL_2_NAME=Gemini-Pro
# AI_CHANNEL_2_API_KEY=sk-xxxxxx2
# AI_CHANNEL_2_CONCURRENCY=2

# --- 方法 B: 环境变量 + ai_config.json (进阶，动态调优) ---
# 1. 环境变量中只配置基础信息（NAME 和 API_KEY）。
# 2. 在当前目录下创建并配置 ai_config.json：
# [
#   {"channel_id": 1, "concurrency": 20},
#   {"channel_id": 2, "concurrency": 5}
# ]
# 注意：JSON 中的 channel_id 对应 AI_CHANNEL_N 中的 N。

# =================== 生产力参考配置 (iFlow 示例) ===================
# AI_CHANNEL_1_NAME=iFlow-1
# AI_CHANNEL_1_API_KEY=sk-xxxx1
# AI_CHANNEL_1_CONCURRENCY=5
# AI_CHANNEL_2_NAME=iFlow-2
# AI_CHANNEL_2_API_KEY=sk-xxxx2
# AI_CHANNEL_2_CONCURRENCY=5

# =================== 全局处理设置 ===================
# 自动保存频率（每处理 N 条记录保存一次结果到 Excel）
BATCH_SAVE_INTERVAL=10

# 日志级别 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# 语义比对逻辑配置
# true: 使用知识库全量源文档进行比对（忽略 Excel 表格中的文档名称列）
# false: 仅使用 Excel 表格中指定命中的文档进行比对 (默认)
USE_FULL_DOC_MATCH=false

# 思维链 (Thinking) 输出配置
# true: 对模型支持的 Reasoning 模型展示其思考过程 (默认)
# false: 仅展示最终结论，隐藏中间思考过程
ENABLE_THINKING=true

# =================== AI 提示词配置 (Prompt) ===================
# 语义检查提示词模板
# 支持占位符: {question} {ai_answer} {source_document}
# 注意：修改时请保持在同一行内，避免硬换行导致解析错误。
SEMANTIC_CHECK_PROMPT=请判断以下AI客服回答与源知识库文档内容在语义上是否相符。判断标准：1. 如果AI客服回答的内容能够从源知识库文档中推断出来，或者与源文档的核心信息一致，则认为"相符"。2. 如果AI客服回答的内容与源文档相悖，或者包含源文档中没有的信息且无法合理推断，则认为"不相符"。3. 如果无法获取源文档内容或遇到技术性错误，则标记为"错误"。4. 如果信息不足以做出明确判断，则标记为"不确定"。**重要：result 字段必须严格使用以下四种值之一，不得使用其他任何值：** - "是" - 表示AI回答与源文档语义相符 - "否" - 表示AI回答与源文档语义不符 - "错误" - 表示遇到技术性错误（如获取文档失败） - "不确定" - 表示信息不足，无法明确判断 请严格按照以下JSON格式返回结果：{{"result": "是" 或 "否" 或 "错误" 或 "不确定", "reason": "详细的判断依据，说明为什么是相符或不相符，请引用源文档内容作为佐证"}} 问题点：{question} AI客服回答：{ai_answer} 源知识库文档内容：--- {source_document} --- 请直接返回JSON格式结果，不要包含其他内容。记住：result 字段只能是这四个值之一："是"、"否"、"错误"、"不确定"。

# =================== 安全与最佳实践 ===================
# 🛡️ 安全提示:
# - 不要将包含真实 API 密钥的 .env 文件提交给 Git 仓库。
# - 本项目默认会在启动时检查配置有效性。
# - 推荐在 Linux/Mac 环境下配合 uv 或 bun 运行以获得最佳性能。