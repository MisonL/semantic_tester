# ========================================
# AI客服问答语义比对工具 - 配置模板
# ========================================
# 使用方法:
# 1. 复制此文件: cp .env.config.example .env
# 2. 修改下面的API密钥
# 3. 运行程序: uv run python main.py

# === AI 供应商配置 ===
# 支持的AI供应商（格式：序号:名称:ID，多个用分号分隔）
AI_PROVIDERS=1:Gemini:gemini;2:OpenAI兼容接口:openai;3:Anthropic兼容接口:anthropic;4:Dify:dify;5:iFlow:iflow

# === Gemini API 配置 ===
# 获取地址: https://aistudio.google.com/app/apikey
# 支持 GEMINI_API_KEY 或 GEMINI_API_KEYS，两者等效，推荐使用 GEMINI_API_KEY
GEMINI_API_KEY=your-gemini-api-key-1,your-gemini-api-key-2
GEMINI_MODEL=gemini-2.5-flash
# 可用模型列表（可选，不配置则使用默认列表）
GEMINI_MODELS=gemini-2.5-flash,gemini-2.5-pro,gemini-1.5-flash,gemini-1.5-pro

# === OpenAI API 配置 ===
# 获取地址: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4o
# 可用模型列表（可选，不配置则使用默认列表）
OPENAI_MODELS=gpt-4o,gpt-4o-mini,gpt-4-turbo,gpt-3.5-turbo,gpt-4,o1-preview,o1-mini
OPENAI_BASE_URL=https://api.openai.com/v1

# === Anthropic API 配置 ===
# 获取地址: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
ANTHROPIC_MODEL=claude-sonnet-4-20250514
# 可用模型列表（可选，不配置则使用默认列表）
ANTHROPIC_MODELS=claude-sonnet-4-20250514,claude-3-5-sonnet-20241022,claude-3-5-haiku-20241022,claude-3-opus-20240229
ANTHROPIC_BASE_URL=https://api.anthropic.com

# === Dify API 配置 ===
# 从 Dify 工作台获取
DIFY_API_KEY=app-your-dify-api-key
DIFY_BASE_URL=https://api.dify.ai/v1
DIFY_APP_ID=your-dify-app-id

# === iFlow API 配置 ===
# 获取地址: https://platform.iflow.cn/profile?tab=apiKey
IFLOW_API_KEY=sk-your-iflow-api-key
IFLOW_MODEL=qwen3-max
# 可用模型列表（可选，不配置则使用默认列表）
IFLOW_MODELS=qwen3-max,kimi-k2-0905,glm-4.6,deepseek-v3.2
IFLOW_BASE_URL=https://apis.iflow.cn/v1

# === 其他配置 ===
# 批量处理间隔（秒，避免API限制）
BATCH_REQUEST_INTERVAL=1.0

# 日志级别 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# 等待动画配置
WAITING_TEXT=正在处理
WAITING_INDICATORS=⣾,⣽,⣻,⢿,⡿,⣟,⣯,⣷
WAITING_DELAY=0.1

# 全量文档匹配模式
# true: 忽略 Excel 中的"文档名称"列，直接使用知识库中的所有文档进行比对
# false: 使用 Excel 中指定的文档进行比对 (默认)
USE_FULL_DOC_MATCH=false

# 是否默认开启思维链/推理过程（仅在模型支持时生效）
# true: 对支持的模型自动请求并展示思维链 (默认)
# false: 始终隐藏思维链，仅展示最终结论
ENABLE_THINKING=true

# AI 提示词配置
# 语义检查提示词（用于判断AI客服回答与源文档是否相符）
# 支持占位符: {question} {ai_answer} {source_document}
# 提示：如需自定义提示词，请修改下面的SEMANTIC_CHECK_PROMPT值（保持在一行内）
SEMANTIC_CHECK_PROMPT=请判断以下AI客服回答与源知识库文档内容在语义上是否相符。判断标准：1. 如果AI客服回答的内容能够从源知识库文档中推断出来，或者与源文档的核心信息一致，则认为"相符"。2. 如果AI客服回答的内容与源文档相悖，或者包含源文档中没有的信息且无法合理推断，则认为"不相符"。3. 如果无法获取源文档内容或遇到技术性错误，则标记为"错误"。4. 如果信息不足以做出明确判断，则标记为"不确定"。**重要：result 字段必须严格使用以下四种值之一，不得使用其他任何值：** - "是" - 表示AI回答与源文档语义相符 - "否" - 表示AI回答与源文档语义不符 - "错误" - 表示遇到技术性错误（如获取文档失败） - "不确定" - 表示信息不足，无法明确判断 请严格按照以下JSON格式返回结果：{{"result": "是" 或 "否" 或 "错误" 或 "不确定", "reason": "详细的判断依据，说明为什么是相符或不相符，请引用源文档内容作为佐证"}} 问题点：{question} AI客服回答：{ai_answer} 源知识库文档内容：--- {source_document} --- 请直接返回JSON格式结果，不要包含其他内容。记住：result 字段只能是这四个值之一："是"、"否"、"错误"、"不确定"。

# ========================================
# 快速开始
# ========================================
#
# 🚀 最简配置:
# 只需修改上面任意一个API密钥即可开始使用
#
# 📋 推荐顺序:
# 1. 先配置 OpenAI (响应稳定)
# 2. 测试基本功能
# 3. 根据需要添加更多供应商
#
# 🔧 常见问题:
# - 程序显示"未配置": 检查API密钥格式
# - API调用失败: 确认密钥有效且有配额
# - 响应慢: 调整 BATCH_REQUEST_INTERVAL 值
#
# 🛡️ 安全提醒:
# - .env 文件已添加到 .gitignore
# - 勿将真实密钥提交到代码仓库